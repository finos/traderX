<div class="trade-container p-2">
    <nav></nav><div class="trade-ops mb-2">
        <div class="trade-filter me-3">
            <app-ngx-dropdown
                name="account"
                [items]="accounts"
                itemKey="displayName"
                [selectedItem]="accountModel"
                placeholder="Select Account"
                (selectedItemChange)="onAccountChange($event)"
            >
            </app-ngx-dropdown>
        </div>
      </div>

      <h5>{{intervalModel ? intervalModel.label : null }}</h5>
      <div class="trade-ops mb-2">
        <ngx-slider
          [options]="options"
          [(value)]="value"
          (userChange)="onSliderChange($event)"
          (userChangeStart)="onSliderChange($event)"
          (userChangeEnd)="onSliderChange($event)">
        </ngx-slider>
      </div>

    <div class="trade-blotter">
        <app-trade-blotter [account]="accountModel"
                           [interval]="intervalModel"
                        class="trade-blotter-items me-2">
        </app-trade-blotter>
        <app-position-blotter [account]="accountModel"
                              [interval]="intervalModel"
                              [priceDate]="dateModel"
                        class="position-blotter-items"> </app-position-blotter>
    </div>

    <div class="closed-trade-blotter">
      <app-closed-position-blotter [account]="accountModel"
                                   [interval]="intervalModel"
                                   [priceDate]="dateModel"
                          class="closed-position-blotter-items"> </app-closed-position-blotter>
    </div>

    <div class="disclaimer mt-4">
        <p>
            <small>
                <strong>(live) Market Values refresh every 10s</strong>
            </small>
        </p>
    </div>
    <div class="trade-ops mb-4">
      <p>Re-calculate Market Values using prices as-of: {{pricesAsOf}}</p>
    </div>
    <div class="trade-ops mb-4" style="width:98%;">
      <ngx-slider
        [options]="dateOptions"
        [(value)]="dateValue"
        (userChange)="onDateSliderChange($event)"
        (userChangeStart)="onDateSliderChange($event)"
        (userChangeEnd)="onDateSliderChange($event)">
      </ngx-slider>
    </div>

</div>
